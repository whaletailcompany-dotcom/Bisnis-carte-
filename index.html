<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ù…ÙˆÙ„Ø¯ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„ â€” ÙÙ„Ø§ÙŠØ± â€” Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© (Ø§Ø­ØªØ±Ø§ÙÙŠ)</title>

<!-- Ù…ÙƒØªØ¨Ø§Øª -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

<style>
body { font-family:"Segoe UI", Tahoma, "Noto Naskh Arabic", sans-serif; background:#0f172a; color:#fff; padding:20px; }
.container{ max-width:1400px; margin:auto; }
header{ background:#1e293b; padding:20px; border-radius:12px; margin-bottom:20px; }
header h1{ font-size:24px; background:linear-gradient(135deg,#3b82f6,#8b5cf6); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
.panel{ background:#1e293b; padding:20px; border-radius:12px; margin-bottom:20px; }
input,textarea,select{ width:100%; padding:10px; border-radius:8px; border:1px solid #475569; background:#334155; color:#fff; margin-bottom:12px; }
button{ padding:10px 14px; border:none; border-radius:8px; cursor:pointer; margin:3px 0; font-weight:bold; }
.btn-primary{ background:linear-gradient(135deg,#3b82f6,#8b5cf6); color:#fff; }
.btn-success{ background:#10b981; color:#fff; }
.btn-danger{ background:#ef4444; color:#fff; }
.preview{ background:#fff; color:#111; padding:20px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,.3); margin-top:20px; }
.tpl-modern{ background:linear-gradient(135deg,#0ea5e9,#8b5cf6); color:white; }
.tpl-classic{ background:white; color:#111; border:2px solid #e5e7eb; }
.tpl-elegant{ background:linear-gradient(135deg,#1e293b,#334155); color:#f1f5f9; }
.tpl-colorful{ background:linear-gradient(135deg,#f43f5e,#ec4899); color:white; }
.tpl-bw{ background:white; color:#111; border:3px solid #111; }
.toast{ position:fixed; bottom:20px; left:50%; transform:translateX(-50%); background:#10b981; color:white; padding:12px 20px; border-radius:10px; display:none; z-index:1000; }
.toast.show{ display:block; }

/* FAB */
.fab{position:fixed;bottom:30px;right:30px;width:60px;height:60px;border-radius:50%;background:#3b82f6;color:#fff;font-size:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:1000;box-shadow:0 4px 12px rgba(0,0,0,.3);}
.fab.active{transform:rotate(45deg);}
.fab-menu{position:fixed;bottom:100px;right:30px;display:flex;flex-direction:column;gap:10px;opacity:0;pointer-events:none;transition:all 0.3s;}
.fab-menu.show{opacity:1;pointer-events:auto;}
.fab-menu button{width:200px;text-align:center;}
</style>
</head>
<body>

<div class="container">
<header>
<h1>âš¡ Ù…ÙÙˆÙ„Ø¯ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</h1>
<p>ØµÙ…Ù… Ø¨Ø·Ø§Ù‚Ø©ØŒ ÙÙ„Ø§ÙŠØ±ØŒ ÙˆØ³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© â€” ÙˆØ§Ø³ØªØ®Ø±Ø¬ PNG / PDF / ZIP</p>
</header>

<div class="panel">
<label>ğŸ‘¤ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label><input id="name" type="text">
<label>ğŸ’¼ Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</label><input id="job" type="text">
<label>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label><input id="email" type="email">
<label>ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ</label><input id="phone" type="tel">
<label>ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹</label><input id="location" type="text">
<label>ğŸ”— Ù…ÙˆÙ‚Ø¹ / Ù„ÙŠÙ†ÙƒØ¯Ø¥Ù†</label><input id="website" type="text">
<label>ğŸ“ Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ù‡Ù†ÙŠ</label><textarea id="summary"></textarea>
<label>âš¡ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</label><input id="skills" type="text">
<label>ğŸ“· ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØ©</label><input id="photo" type="file" accept="image/*">
<label>ğŸ¨ Ø´Ø¹Ø§Ø± / Ù„ÙˆØ¬Ùˆ</label><input id="logo" type="file" accept="image/*">
<label>ğŸ¨ Ø§Ù„Ù‚Ø§Ù„Ø¨</label>
<select id="template">
<option value="modern">Ø¹ØµØ±ÙŠ</option>
<option value="classic">ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ</option>
<option value="elegant">Ø£Ù†ÙŠÙ‚</option>
<option value="colorful">Ù…Ù„ÙˆÙ†</option>
<option value="bw">Ø£Ø¨ÙŠØ¶ ÙˆØ£Ø³ÙˆØ¯</option>
</select>
</div>

<div id="cardFront" class="preview tpl-modern">
<h2 id="prName">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</h2>
<p id="prJob">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</p>
<p id="prEmail">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯</p>
<p id="prPhone">ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ</p>
<p id="prLocation">ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹</p>
</div>

<div id="flyerPreview" class="preview tpl-modern">
<h2 id="flyerName">Ø§Ù„Ø§Ø³Ù… â€” Ø§Ù„Ù…Ø³Ù…Ù‰</h2>
<p id="flyerSummary">Ø§Ù„Ù…Ù„Ø®Øµ ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§</p>
</div>

<div id="cvPreview" class="preview">
<h2 id="cvName">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</h2>
<p id="cvJob">Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</p>
<p id="cvSummary">Ù…Ù„Ø®Øµ Ù‚ØµÙŠØ±</p>
<p id="cvSkills">Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</p>
</div>

<div id="toast" class="toast"></div>

<!-- FAB -->
<div class="fab" id="fab">+</div>
<div class="fab-menu" id="fabMenu">
<button onclick="downloadCardPNG()">ğŸ“¥ Ø¨Ø·Ø§Ù‚Ø© PNG</button>
<button onclick="downloadCardPDF()">ğŸ“¥ Ø¨Ø·Ø§Ù‚Ø© PDF</button>
<button onclick="downloadFlyerPNG()">ğŸ“¥ ÙÙ„Ø§ÙŠØ± PNG</button>
<button onclick="downloadFlyerPDF()">ğŸ“¥ ÙÙ„Ø§ÙŠØ± PDF</button>
<button onclick="downloadCVPNG()">ğŸ“¥ CV PNG</button>
<button onclick="downloadCVPDF()">ğŸ“¥ CV PDF</button>
<button onclick="exportZIP()">ğŸ“¦ ØªÙ†Ø²ÙŠÙ„ ZIP</button>
<button onclick="generateAllBackgrounds()">ğŸ¨ ØªÙˆÙ„ÙŠØ¯ Ø®Ù„ÙÙŠØ§Øª</button>
<button onclick="resetForm()">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
</div>

<script>
const toast=document.getElementById("toast");
const cardFront=document.getElementById("cardFront");
const flyerPreview=document.getElementById("flyerPreview");
const cvPreview=document.getElementById("cvPreview");
const fab=document.getElementById("fab");
const fabMenu=document.getElementById("fabMenu");

let photoData = null;
let logoData = null;

function showToast(msg){ toast.textContent=msg; toast.classList.add("show"); setTimeout(()=>toast.classList.remove("show"),3000); }

function updateAll(){
  document.getElementById("prName").textContent=name.value||"Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„";
  document.getElementById("prJob").textContent=job.value||"Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ";
  document.getElementById("prEmail").textContent=email.value||"ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯";
  document.getElementById("prPhone").textContent=phone.value||"ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ";
  document.getElementById("prLocation").textContent=location.value||"ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹";
  document.getElementById("flyerName").textContent=(name.value||"Ø§Ù„Ø§Ø³Ù…")+" â€” "+(job.value||"Ø§Ù„Ù…Ø³Ù…Ù‰");
  document.getElementById("flyerSummary").textContent=summary.value||"Ø§Ù„Ù…Ù„Ø®Øµ ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§";
  document.getElementById("cvName").textContent=name.value||"Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„";
  document.getElementById("cvJob").textContent=job.value||"Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ";
  document.getElementById("cvSummary").textContent=summary.value||"Ù…Ù„Ø®Øµ Ù‚ØµÙŠØ±";
  document.getElementById("cvSkills").textContent=skills.value||"Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª";

  cardFront.className="preview tpl-"+template.value;
  flyerPreview.className="preview tpl-"+template.value;
}

async function savePNG(el,file){
  const c = await html2canvas(el,{scale:2,backgroundColor:null});
  c.toBlob(b=>{ saveAs(b,file); showToast("âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ " + file); });
}
async function downloadCardPNG(){ await savePNG(cardFront,"business-card.png"); }
async function downloadFlyerPNG(){ await savePNG(flyerPreview,"flyer.png"); }
async function downloadCVPNG(){ await savePNG(cvPreview,"cv-resume.png"); }

async function savePDF(el,file){
  showToast("â³ Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ PDF...");
  const { jsPDF } = window.jspdf;
  const c = await html2canvas(el,{scale:2,backgroundColor:null});
  const img = c.toDataURL("image/png");
  const pdf = new jsPDF({orientation:'portrait',unit:'mm',format:'a4'});
  const imgWidth = 190;
  const imgHeight = (c.height*imgWidth)/c.width;
  pdf.addImage(img,"PNG",10,10,imgWidth,imgHeight);
  pdf.save(file);
  showToast("âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ " + file);
}
async function downloadCardPDF(){ await savePDF(cardFront,"business-card.pdf"); }
async function downloadFlyerPDF(){ await savePDF(flyerPreview,"flyer.pdf"); }
async function downloadCVPDF(){ await savePDF(cvPreview,"cv-resume.pdf"); }

async function exportZIP(){
  showToast("â³ Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ ZIP...");
  const zip=new JSZip();
  async function addToZip(el,name){
    const c=await html2canvas(el,{scale:2,backgroundColor:null});
    zip.file(name+".png",c.toDataURL("image/png").split(",")[1],{base64:true});
  }
  try{
    await addToZip(cardFront,"business-card");
    await addToZip(flyerPreview,"flyer");
    await addToZip(cvPreview,"cv-resume");
    const content=await zip.generateAsync({type:"blob"});
    saveAs(content,"professional-cards-pack.zip");
    showToast("âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ZIP");
  }catch(err){ showToast("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ZIP"); console.error(err); }
}

function resetForm(){
  if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ")){
    document.querySelectorAll("input, textarea").forEach(el=>el.value="");
    template.value="modern"; photoData=null; logoData=null;
    updateAll(); showToast("ğŸ—‘ï¸ ØªÙ… Ø§Ù„Ù…Ø³Ø­");
  }
}

// FAB
fab.addEventListener("click", ()=>{
  fabMenu.classList.toggle("show");
  fab.classList.toggle("active");
});
document.addEventListener("click",(e)=>{
  if(!fab.contains(e.target)&&!fabMenu.contains(e.target)){
    fabMenu.classList.remove("show");
    fab.classList.remove("active");
  }
});

// ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø©
const inputs = document.querySelectorAll("input, textarea, select");
inputs.forEach(input=>{ if(input.type!=="file") input.addEventListener("input",()=>updateAll()); });

// Ø®Ù„ÙÙŠØ§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø¨Ø¯ÙˆÙ† API
function generateRandomBackground(el){
  const colors=[["#0f172a","#1e3a5f"],["#3b82f6","#8b5cf6"],["#f43f5e","#ec4899"],["#10b981","#22c55e"],["#f59e0b","#fbbf24"]];
  const gradient=colors[Math.floor(Math.random()*colors.length)];
  const shapes=["circle","ellipse","line"];
  const shape=shapes[Math.floor(Math.random()*shapes.length)];
  let extra="";
  if(shape==="circle"){
    const size=Math.floor(Math.random()*80)+20;
    const posX=Math.floor(Math.random()*100);
    const posY=Math.floor(Math.random()*100);
    extra=`radial-gradient(circle ${size}px at ${posX}% ${posY}%, ${gradient[1]}55, transparent)`;
  } else if(shape==="line"){
    const angle=Math.floor(Math.random()*360);
    extra=`repeating-linear-gradient(${angle}deg, ${gradient[1]}33, ${gradient[1]}33 10px, transparent 10px, transparent 20px)`;
  } else if(shape==="ellipse"){
    const sizeX=Math.floor(Math.random()*100)+50;
    const sizeY=Math.floor(Math.random()*50)+25;
    const posX=Math.floor(Math.random()*100);
    const posY=Math.floor(Math.random()*100);
    extra=`radial-gradient(ellipse ${sizeX}px ${sizeY}px at ${posX}% ${posY}%, ${gradient[1]}55, transparent)`;
  }
  el.style.backgroundImage=`linear-gradient(135deg, ${gradient[0]}, ${gradient[1]}), ${extra}`;
  el.style.backgroundSize="cover";
  el.style.backgroundBlendMode="overlay";
}
function generateAllBackgrounds(){ generateRandomBackground(cardFront); generateRandomBackground(flyerPreview); generateRandomBackground(cvPreview); showToast("ğŸ¨ ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø®Ù„ÙÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ø©"); }

// Ø£ÙˆÙ„ ØªØ´ØºÙŠÙ„
window.addEventListener("load",()=>{ updateAll(); showToast("ğŸ‘‹ Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ"); });

</script>
</body>
                         </html>
